{% extends "layout.html" %}

{% block title %}
  Weather50 - Cities
{% endblock %}

{% block main %}
<div class="flex flex-col w-full h-full mt-6 gap-4 text-white">
  <h2 class="text-xs font-semibold text-gray-400">
    LATEST SEARCHES
  </h2>

  <div class="flex w-full items-center gap-4 rounded-2xl py-2 px-4 hover:bg-[#151e2b] ring-1 ring-blue-500 cursor-pointer transition hidden">
    <img src="/static/icons/svg-static/clear-day.svg" alt="weather" class="size-24">
    <div class="flex flex-1 justify-between">
      <div>
        <p class="text-2xl font-semibold">Madrid</p>
        <p class="text-sm text-gray-400 font-medium">15:23</p>
      </div>
      <p class="self-start text-3xl font-semibold leading-none">
        31°
        <span class="ml-1 align-top text-sm text-gray-400 font-medium"><span class="text-gray-300">32</span> /26</span>
      </p>
    </div>
  </div>

  {% if cities %}
    {% for city in cities %}
      <div class="flex w-full items-center bg-[#1c2534] gap-4 rounded-2xl py-2 px-4 hover:bg-[#151e2b] ring-blue-500 cursor-pointer transition">
        <img src="{{ city.icon }}" alt="weather" class="size-24">
        <div class="flex flex-1 justify-between">
          <div>
            <p class="text-2xl font-semibold">{{ city.name }}</p>
            <p class="text-sm text-gray-400 font-medium">{{ city.local_time }}</p>
          </div>
          <p class="self-start text-3xl font-semibold leading-none">
            {{ city.feels_like }}
            <span class="ml-1 align-top text-sm text-gray-400 font-medium">{{ city.temp_max}} /{{ city.temp_min }}</span>
          </p>
        </div>
      </div>
    {% endfor %}
  {% else %}
    <div class="flex items-center justify-center py-10 text-center">
      <p class="text-gray-400">
        Search for a city to see it here
      </p>
    </div>
  {% endif %}
</div>
{% endblock %}

{% block side %}
<div class="w-full h-full rounded-2xl">
  <div class="w-full p-8 flex items-center text-white justify-between">
    <div>
      <h1 id="city" class="text-3xl font-bold case-sentence">Madrid</h1>
      <p class="text-gray-400 case-sentence case-sentence">Sunny</p>
      <p class="text-5xl font-semibold mt-8">31°</p>
    </div>

    <div class="weather-icon size-40" 
      style="background-image: url('static/icons/svg-static/clear-day.svg');"
      role="img" 
      aria-label="weather icon">
    </div>
  </div>

  <!-- Today's forecast -->
  <div class="flex flex-col flex-1 w-full pt-6 pl-6 text-gray-400 min-h-0">
    <h2 class="text-xs font-semibold">
      TODAY'S FORECAST
    </h2>

    <div class="flex flex-col flex-1 min-h-0" data-simplebar>
      <div class="flex items-stretch font-semibold p-4 divide-x divide-gray-700">
        <div class="flex flex-col items-center justify-between min-w-[100px] p-1 h-full">
          <p class="text-xs">12:00</p>
          <div class="flex flex-1 w-full p-3 items-center justify-center">
            <img src="/static/icons/svg-static/clear-day.svg" class="w-full aspect-square object-contain" alt="">
          </div>
          <p class="text-white text-lg font-semibold">29°</p>
        </div>

        <div class="flex flex-col items-center justify-between min-w-[100px] p-1 h-full">
          <p class="text-xs">13:00</p>
          <div class="flex flex-1 w-full p-3 items-center justify-center">
            <img src="/static/icons/svg-static/cloudy.svg" class="w-full aspect-square object-contain" alt="">
          </div>
          <p class="text-white text-lg font-semibold">25°</p>
        </div>
        
        <div class="flex flex-col items-center justify-between min-w-[100px] p-1 h-full">
          <p class="text-xs">14:00</p>
          <div class="flex flex-1 w-full p-3 items-center justify-center">
            <img src="/static/icons/svg-static/clear-day.svg" class="w-full aspect-square object-contain" alt="">
          </div>
          <p class="text-white text-lg font-semibold">26°</p>
        </div>

        <div class="flex flex-col items-center justify-between min-w-[100px] p-1 h-full">
          <p class="text-xs">13:00</p>
          <div class="flex flex-1 w-full p-3 items-center justify-center">
            <img src="/static/icons/svg-static/cloudy.svg" class="w-full aspect-square object-contain" alt="">
          </div>
          <p class="text-white text-lg font-semibold">25°</p>
        </div>
        
        <div class="flex flex-col items-center justify-between min-w-[100px] p-1 h-full">
          <p class="text-xs">14:00</p>
          <div class="flex flex-1 w-full p-3 items-center justify-center">
            <img src="/static/icons/svg-static/clear-day.svg" class="w-full aspect-square object-contain" alt="">
          </div>
          <p class="text-white text-lg font-semibold">26°</p>
        </div>

      </div>
    </div>
  </div>

  <!-- 4-day forecast -->
  <div class="flex flex-1 flex-col w-full p-6 text-sm font-semibold border-t border-gray-700 text-gray-400">
    <h2 class="text-xs mb-2">
        3-DAY FORECAST
    </h2>
    <div class="flex flex-col flex-1 divide-y divide-gray-700">
      {% for item in range(3) %}
      <div class="flex flex-1 items-center p-2">
        <span class="flex-1 text-xs">Day {{ item+1 }}</span>
        
        <div class="flex items-center flex-1 gap-4">
          <img src="/static/icons/svg-static/cloudy.svg" class="size-16" alt="weather icon">
          <span class="text-gray-200 case-sentence">Clouds</span>
        </div>
    
        <span class="flex-1 text-end">
          <span class="text-gray-300">{{ 20+item }}</span>
          <span>/{{ 19-item }}</span>
        </span>
      </div>
      {% endfor %}
    </div>
  </div>

</div>
{% endblock %}
